<!DOCTYPE html>
<html lang="en" style="font-family: 'IBM Plex Mono';">
<head>
  <meta charset="UTF-8">
  <title>Atividade DEEM I - Eletrotécnica</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
<link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bulma/0.4.2/css/bulma.min.css'><link rel="stylesheet" href="./css/tsParticlesStyle.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/fonts/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/fonts/font-awesome.min.css">
    <link rel="stylesheet" href="assets/fonts/fontawesome5-overrides.min.css">
    <link rel="stylesheet" href="./css/docSlider.css">
    <link rel="stylesheet" href="./css/deemIStyle.css">

    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"> -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script> -->

    <link rel="stylesheet" type="text/css" href="css/glider.css" />
    <script src="scripts/glider.js"></script>
    <script src="scripts/gliderLoad.js"> </script>

    <script type="text/javascript" src="https://unpkg.com/vis-network@9.1.9/standalone/umd/vis-network.min.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>


<div class="docSlider">
<section style="background-color: #68ED09;" id="page-main">
  <div id="bubble-circle-div">
    <img class="center" style="width: 200px;" src="./resources/deemi_logo.png"></img>
    <h1 style="color: black; padding: 10px; font-size: 36px; text-align: center;"><u>Bem-vindo a Atividiade Final DEEM I</u>!</h1>
    <p style="color: black; padding: 10px; font-size: 26px; text-align: center;">Uma ferramenta interativa de visualização de contéudos referentes a Eletrotécnica</p>
    <p style="color: black; padding: 10px; font-size: 26px; text-align: center;">Vamos Começar!</b></p>
    <p style="color: red; padding: 10px; font-size: 36px; text-align: center;"><a href="DEEMI.html#dashboard" class="arrow"><i style="color: red;" class="fas fa-arrow-down"></i></a></p>    
  </div>
</section>

<section id="dashboard" style="background-color: #68ED09;" class="langs">
  <div class="pages-container">
  <a href="DEEMI.html#aplicacao" class="pages-items aplicacao"><p><b>Aplicação</b></p>
  </a>
  <a href="DEEMI.html#fundamentos" class="pages-items fundamentos"><p><b>Fundamentos</b></p>
  </a>
  <a href="DEEMI.html#ferramenta" class="pages-items ferramenta"><p><b>Ferramentas</b></p>
  </a>
  </div>
</section>

<section id="aplicacao" style=" background-color: deepskyblue;" class="langs">
  <h1 style="font-size: 48px; text-align: center"><b>Aplicação:</b></h1>
  <div class="pages-container" style="height: 85%;">
  <div class="figures-items">
  <h1 style="text-align: center">Exemplo de um vidro com sistema anti-condensação:</h1>
  <img class="center" style="max-width:80%; max-height:40%; width:auto; height:auto;" src="./resources/application1.png"></img>
  </div>
  <div class="figures-items">
  <h1 style="text-align: center">Esquema de um vidro com sistema anti-condensação:</h1>
  <img class="center" style="max-width:80%; max-height:40%; width:auto; height:auto;" src="./resources/application2.jpg"></img>
  </div>
  </div>
</section>

<section id="fundamentos" style="background-color: goldenrod;" class="langs">
  <h1 style="font-size: 48px; text-align: center"><b>Fundamentos:</b></h1>
<img class="center" style="max-height:80%; width:auto; height:auto;" src="./resources/ohm_law_vis.jpg"></img>
</section>

<section id="ferramenta" style="background-color: darkseagreen;" class="langs">
  <h1 style="font-size: 48px; text-align: center"><b>Ferramenta:</b></h1>
  <!-- <img class="center" style="max-height:80%; width:auto; height:auto;" src="./resources/placeholder_tool.png"></img> -->
<div class="container">
        <div class="tooltip">
            <label for="current" id="label-current">Corrente (I):</label>
            <input type="number" id="current" placeholder="Insira a Corrente">
            <span class="tooltiptext" id="tooltip-current">Corrente (Definida pelo Usuário)</span>
        </div>
        <div class="tooltip">
            <label for="resistance" id="label-resistance">Resistência (R):</label>
            <input type="number" id="resistance" placeholder="Insira a Resistência">
            <span class="tooltiptext" id="tooltip-resistance">Resistência (Definida pelo Usuário)</span>
        </div>
        <div class="tooltip">
            <label for="power" id="label-power">Potência (P):</label>
            <input type="number" id="power" placeholder="Insira a Potência">
            <span class="tooltiptext" id="tooltip-power">Potência (Definida pelo Usuário)</span>
        </div>
        <div class="tooltip">
            <label for="voltage" id="label-voltage">Voltagem (V):</label>
            <input type="number" id="voltage" placeholder="Insira a Voltagem">
            <span class="tooltiptext" id="tooltip-voltage">Voltagem (Definida pelo Usuário)</span>
        </div>

        <div class="result tooltip" id="result-current">
            <label for="current">Corrente (I):</label>
            <div id="formula-current">N/A</div>
            <span class="tooltiptext" id="result-tooltip-current">Corrente (Calculada)</span>
        </div>
        <div class="result tooltip" id="result-resistance">
            <label for="resistance">Resistência (R):</label>
            <div id="formula-resistance">N/A</div>
            <span class="tooltiptext" id="result-tooltip-resistance">Resistência (Calculada)</span>
        </div>
        <div class="result tooltip" id="result-power">
            <label for="power">Potência (P):</label>
            <div id="formula-power">N/A</div>
            <span class="tooltiptext" id="result-tooltip-power">Potência (Calculada)</span>
        </div>
        <div class="result tooltip" id="result-voltage">
            <label for="voltage">Voltagem (V):</label>
            <div id="formula-voltage">N/A</div>
            <span class="tooltiptext" id="result-tooltip-voltage">Voltagem (Calculada)</span>
        </div>
    </div>

</section>


</div>


<script>
    let lastTwoFields = [];

        function updateLastTwoFields(fieldId) {
            if (lastTwoFields.length === 2) {
                if (lastTwoFields[1] === fieldId) {
                    return; // No update needed if the same field is selected again
                }
                lastTwoFields.shift(); // Remove the oldest entry
            }
            lastTwoFields.push(fieldId);
            updateLabels();
        }

        function updateLabels() {
            const allLabels = document.querySelectorAll('label');
            const allResults = document.querySelectorAll('label');

            allLabels.forEach(label => {
                if (lastTwoFields.includes(label.htmlFor)) {
                    label.classList.remove('inactive');
                    label.classList.add('active');
                } else {
                    label.classList.remove('active');
                    label.classList.add('inactive');

                }
            });

            const allTooltips = document.querySelectorAll('.tooltiptext');
            allTooltips.forEach(tooltip => {
                const field = tooltip.id.replace('tooltip-', '');
                if (lastTwoFields.includes(field)) {
                    tooltip.innerHTML = `${fieldValuesLabels[field].charAt(0).toUpperCase() + fieldValuesLabels[field].slice(1)} (Definida pelo Usuário)`;
                } else {
                    tooltip.innerHTML = `${fieldValuesLabels[field].charAt(0).toUpperCase() + fieldValuesLabels[field].slice(1)} (Calculada)`;
                }
            });
        }

        function calculate() {
            const current = parseFloat(document.getElementById('current').value);
            const resistance = parseFloat(document.getElementById('resistance').value);
            const power = parseFloat(document.getElementById('power').value);
            const voltage = parseFloat(document.getElementById('voltage').value);

            let fieldValues = {
                'current': current,
                'resistance': resistance,
                'power': power,
                'voltage': voltage
            };

            let fieldValuesLabels = {
                'current': 'Corrente',
                'resistance': 'Resistência',
                'power': 'Potência',
                'voltage': 'Voltagem'
            };

            let formulaCurrent = isNaN(current) ? 'N/A' : `\\( I = ${current} \\)`;
            let formulaResistance = isNaN(resistance) ? 'N/A' : `\\( R = ${resistance} \\)`;
            let formulaPower = isNaN(power) ? 'N/A' : `\\( P = ${power} \\)`;
            let formulaVoltage = isNaN(voltage) ? 'N/A' : `\\( V = ${voltage} \\)`;

            if (lastTwoFields.includes('current') && lastTwoFields.includes('resistance') && !isNaN(current) && !isNaN(resistance)) {
                fieldValues.power = (Math.pow(current, 2) * resistance).toFixed(2);
                fieldValues.voltage = (current * resistance).toFixed(2);
                formulaVoltage = `\\( V = I \\cdot R = ${current} \\cdot ${resistance} = ${fieldValues.voltage} \\)`;
                formulaPower = `\\( P = I^2 \\cdot R = ${current}^2 \\cdot ${resistance} = ${fieldValues.power} \\)`;
            } else if (lastTwoFields.includes('current') && lastTwoFields.includes('power') && !isNaN(current) && !isNaN(power)) {
                fieldValues.resistance = (power / Math.pow(current, 2)).toFixed(2);
                fieldValues.voltage = (power / current).toFixed(2);
                formulaResistance = `\\( R = \\frac{P}{I^2} = \\frac{${power}}{${current}^2} = ${fieldValues.resistance} \\)`;
                formulaVoltage = `\\( V = \\frac{P}{I} = \\frac{${power}}{${current}} = ${fieldValues.voltage} \\)`;
            } else if (lastTwoFields.includes('current') && lastTwoFields.includes('voltage') && !isNaN(current) && !isNaN(voltage)) {
                fieldValues.resistance = (voltage / current).toFixed(2);
                fieldValues.power = (voltage * current).toFixed(2);
                formulaResistance = `\\( R = \\frac{V}{I} = \\frac{${voltage}}{${current}} = ${fieldValues.resistance} \\)`;
                formulaPower = `\\( P = V \\cdot I = ${voltage} \\cdot ${current} = ${fieldValues.power} \\)`;
            } else if (lastTwoFields.includes('resistance') && lastTwoFields.includes('power') && !isNaN(resistance) && !isNaN(power)) {
                fieldValues.current = Math.sqrt(power / resistance).toFixed(2);
                fieldValues.voltage = (Math.sqrt(power / resistance) * resistance).toFixed(2);
                formulaCurrent = `\\( I = \\sqrt{\\frac{P}{R}} = \\sqrt{\\frac{${power}}{${resistance}}} = ${fieldValues.current} \\)`;
                formulaVoltage = `\\( V = I \\cdot R = ${fieldValues.current} \\cdot ${resistance} = ${fieldValues.voltage} \\)`;
            } else if (lastTwoFields.includes('resistance') && lastTwoFields.includes('voltage') && !isNaN(resistance) && !isNaN(voltage)) {
                fieldValues.current = (voltage / resistance).toFixed(2);
                fieldValues.power = (Math.pow(voltage, 2) / resistance).toFixed(2);
                formulaCurrent = `\\( I = \\frac{V}{R} = \\frac{${voltage}}{${resistance}} = ${fieldValues.current} \\)`;
                formulaPower = `\\( P = \\frac{V^2}{R} = \\frac{${voltage}^2}{${resistance}} = ${fieldValues.power} \\)`;
            } else if (lastTwoFields.includes('power') && lastTwoFields.includes('voltage') && !isNaN(power) && !isNaN(voltage)) {
                fieldValues.current = (power / voltage).toFixed(2);
                fieldValues.resistance = (Math.pow(voltage, 2) / power).toFixed(2);
                formulaCurrent = `\\( I = \\frac{P}{V} = \\frac{${power}}{${voltage}} = ${fieldValues.current} \\)`;
                formulaResistance = `\\( R = \\frac{V^2}{P} = \\frac{${voltage}^2}{${power}} = ${fieldValues.resistance} \\)`;
            }

            Object.keys(fieldValues).forEach(field => {
                const element = document.getElementById(field);
                if (!lastTwoFields.includes(field)) {
                    element.value = fieldValues[field];
                    document.getElementById(`result-tooltip-${field}`).innerHTML = `${fieldValuesLabels[field].charAt(0).toUpperCase() + fieldValuesLabels[field].slice(1)} (Calculada)`;
                    document.getElementById(`result-${field}`).classList.remove('defined');
                    document.getElementById(`result-${field}`).classList.add('calculated');

                } else {
                    document.getElementById(`result-tooltip-${field}`).innerHTML = `${fieldValuesLabels[field].charAt(0).toUpperCase() + fieldValuesLabels[field].slice(1)} (Definida pelo Usuário)`;
                    document.getElementById(`result-${field}`).classList.remove('calculated');
                    document.getElementById(`result-${field}`).classList.add('defined');
                }
                document.getElementById(`formula-${field}`).innerHTML = `\\( ${field.charAt(0).toUpperCase()} = ${fieldValues[field]} \\)`;
            });

            if (!lastTwoFields.includes('current')) document.getElementById('formula-current').innerHTML = formulaCurrent;
            if (!lastTwoFields.includes('resistance')) document.getElementById('formula-resistance').innerHTML = formulaResistance;
            if (!lastTwoFields.includes('power')) document.getElementById('formula-power').innerHTML = formulaPower;
            if (!lastTwoFields.includes('voltage')) document.getElementById('formula-voltage').innerHTML = formulaVoltage;

            MathJax.typeset();
        }

        document.querySelectorAll('input').forEach(input => {
            input.addEventListener('input', (e) => {
                updateLastTwoFields(e.target.id);
                calculate();
            });
        });
</script>

<script src='https://cdn.jsdelivr.net/npm/tsparticles@3.1.0/tsparticles.bundle.min.js'></script>
<!-- <script src="assets/bootstrap/js/bootstrap.min.js"></script> -->
<script src="scripts/docSlider.min.js"></script>
<script>docSlider.init({easing : 'ease-in-out'});</script>
<script  src="./scripts/tsParticlesScript.js"></script>
<!-- <script>
    if (window.innerWidth > 1000){
  console.log("big")
  zoomin(0.45);
}
else if (window.innerWidth < 500){
  zoomin(0.5)
}   
</script> -->
<script>document.getElementById("tsparticles").style.Zindex = '-1';</script>

</body>
</html>
